# Project: adams
# Date: 2014-12-24 10:24:28
# User: fracpete
# Charset: UTF-8
#
adams.flow.control.Flow
	-annotation
	Builds a clusterer on a dataset with the class attribute removed\nand outputs the computed cluster centers and statistics (only numeric attributes).
	-actor
		adams.flow.standalone.CallableActors
			-actor
				adams.flow.source.WekaClustererSetup
					-clusterer
						weka.clusterers.SimpleKMeans
							-init
							0
							-max-candidates
							100
							-periodic-pruning
							10000
							-min-density
							2.0
							-t1
							-1.25
							-t2
							-1.0
							-N
							2
							-A
							weka.core.EuclideanDistance -R first-last
							-I
							500
							-num-slots
							1
							-S
							10
			-actor
				adams.flow.sink.WekaInstancesDisplay
					-name
					centers
					-short-title
					true
					-writer
						adams.gui.print.NullWriter
			-actor
				adams.flow.sink.WekaInstancesDisplay
					-name
					statistics
					-short-title
					true
					-x
					-3
					-writer
						adams.gui.print.NullWriter
			-actor
				adams.flow.sink.SequencePlotter
					-name
					error plot
					-x
					-3
					-y
					-3
					-writer
						adams.gui.print.NullWriter
					-paintlet
						adams.gui.visualization.sequence.LinePaintlet
					-overlay-paintlet
						adams.gui.visualization.sequence.CirclePaintlet
					-marker-paintlet
						adams.flow.sink.sequenceplotter.NoMarkers
					-error-paintlet
						adams.flow.sink.sequenceplotter.ErrorBandPaintlet
					-mouse-click-action
						adams.flow.sink.sequenceplotter.NullClickAction
					-color-provider
						adams.gui.visualization.core.DefaultColorProvider
					-overlay-color-provider
						adams.gui.visualization.core.DefaultColorProvider
					-title
					Clusters
					-axis-x
						adams.gui.visualization.core.AxisPanelOptions
							-label
							attribute
							-tick-generator
								adams.gui.visualization.core.axis.FancyTickGenerator
							-nth-value
							2
							-width
							40
							-custom-format
							0
					-axis-y
						adams.gui.visualization.core.AxisPanelOptions
							-label
							value
							-tick-generator
								adams.gui.visualization.core.axis.FancyTickGenerator
							-nth-value
							2
							-width
							60
							-custom-format
							0.0
					-plot-updater
						adams.flow.sink.sequenceplotter.SimplePlotUpdater
							-update-interval
							-1
					-post-processor
						adams.flow.sink.sequenceplotter.PassThrough
	-actor
		adams.flow.source.FileSupplier
			-file
			${EXAMPLE_FLOWS}/data/bodyfat.arff
	-actor
		adams.flow.transformer.WekaFileReader
			-loader
				weka.core.converters.ArffLoader
	-actor
		adams.flow.transformer.WekaFilter
			-filter
				weka.filters.unsupervised.attribute.Remove
	-actor
		adams.flow.control.Branch
			-branch
				adams.flow.control.Sequence
					-name
					centers
					-actor
						adams.flow.transformer.WekaTrainClusterer
							-name
							WekaClusterer
							-post-processor
								adams.flow.transformer.wekaclusterer.ClusterCenters
					-actor
						adams.flow.control.ContainerValuePicker
							-value
							Clustered dataset
							-switch-outputs
							true
					-actor
						adams.flow.sink.CallableSink
							-callable
							centers
			-branch
				adams.flow.control.Sequence
					-name
					statistics
					-actor
						adams.flow.transformer.WekaTrainClusterer
							-name
							WekaClusterer
							-post-processor
								adams.flow.transformer.wekaclusterer.ClusterStatistics
					-actor
						adams.flow.control.ContainerValuePicker
							-value
							Clustered dataset
							-switch-outputs
							true
					-actor
						adams.flow.control.Branch
							-branch
								adams.flow.sink.CallableSink
									-callable
									statistics
							-branch
								adams.flow.control.Sequence
									-name
									plot min/max/mean
									-actor
										adams.flow.transformer.Convert
											-conversion
												adams.data.conversion.WekaInstancesToSpreadSheet
													-data-row-type
														adams.data.spreadsheet.DenseDataRow
													-spreadsheet-type
														adams.data.spreadsheet.SpreadSheet
									-actor
										adams.flow.transformer.SpreadSheetSort
									-actor
										adams.flow.transformer.Convert
											-name
											Convert-1
											-conversion
												adams.data.conversion.TransposeSpreadSheet
													-use-first-column-as-header
													true
									-actor
										adams.flow.transformer.SpreadSheetColumnFilter
											-finder
												adams.data.spreadsheet.columnfinder.ByName
													-reg-exp
													.*(Min|Max|Mean)
									-actor
										adams.flow.transformer.SetStorageValue
											-storage-name
											sheet
									-actor
										adams.flow.control.Trigger
											-name
											loop over clusters
											-tee
												adams.flow.source.ForLoop
													-lower
													0
													-upper
													1
											-tee
												adams.flow.transformer.Convert
													-conversion
														adams.data.conversion.IntToString
											-tee
												adams.flow.transformer.StringInsert
													-after
													true
													-value
													-.*
											-tee
												adams.flow.transformer.SetVariable
													-var-name
													regexp
											-tee
												adams.flow.control.Trigger
													-name
													plot current cluster
													-tee
														adams.flow.source.StorageValue
															-storage-name
															sheet
													-tee
														adams.flow.transformer.SpreadSheetColumnFilter
															-finder
																adams.data.spreadsheet.columnfinder.ByName
																	-reg-exp
																	@{regexp}
													-tee
														adams.flow.transformer.SpreadSheetPlotGenerator
															-generator
																adams.flow.transformer.plotgenerator.XYWithErrorsPlotGenerator
																	-y-column
																	2
																	-y-error-columns
																	3,1
													-tee
														adams.flow.sink.CallableSink
															-callable
															error plot
	-flow-execution-listener
		adams.flow.execution.NullListener

