# Project: adams
# Date: 2015-07-06 16:56:27
# User: fracpete
#
adams.flow.control.Flow
	-annotation
	Allows the user to generate individual plots from a matrix plot,\nplotting two sets of attributes (selected by the user) against\neach other.
	-actor
		adams.flow.standalone.CallableActors
			-actor
				adams.flow.sink.DisplayPanelManager
					-width
					900
					-height
					600
					-provider
						adams.flow.sink.WekaInstancesPlot
							-writer
								adams.gui.print.NullWriter
					-entry-name-variable
					label
	-actor
		adams.flow.source.WekaSelectDataset
			-stop-if-canceled
			true
			-initial-file
			${EXAMPLE_FLOWS}/data/bodyfat.arff
	-actor
		adams.flow.transformer.WekaFileReader
			-loader
				weka.core.converters.AArffLoader
	-actor
		adams.flow.transformer.SetStorageValue
			-storage-name
			data
	-actor
		adams.flow.transformer.WekaFilter
			-filter
				weka.filters.unsupervised.instance.RemoveRange
					-R
					first-last
	-actor
		adams.flow.transformer.SetStorageValue
			-name
			SetStorageValue-1
			-storage-name
			atts
	-actor
		adams.flow.control.Trigger
			-name
			first lot of attributes
			-tee
				adams.flow.source.StorageValue
					-storage-name
					atts
			-tee
				adams.flow.transformer.WekaChooseAttributes
					-stop-if-canceled
					true
					-message
					Choose the first set of attributes
			-tee
				adams.flow.transformer.WekaInstancesInfo
					-output-array
					true
					-type
					ATTRIBUTE_NAMES
			-tee
				adams.flow.transformer.Convert
					-conversion
						adams.data.conversion.JoinOptions
			-tee
				adams.flow.transformer.SetVariable
					-var-name
					first_atts
	-actor
		adams.flow.control.Trigger
			-name
			second lot of attributes
			-tee
				adams.flow.source.StorageValue
					-storage-name
					atts
			-tee
				adams.flow.transformer.WekaChooseAttributes
					-stop-if-canceled
					true
					-message
					Choose the second set of attributes to plot against
			-tee
				adams.flow.transformer.WekaInstancesInfo
					-output-array
					true
					-type
					ATTRIBUTE_NAMES
			-tee
				adams.flow.transformer.Convert
					-conversion
						adams.data.conversion.JoinOptions
			-tee
				adams.flow.transformer.SetVariable
					-var-name
					second_atts
	-actor
		adams.flow.control.Trigger
			-name
			iterate 1st lot
			-tee
				adams.flow.source.StringConstants
					-string
					@{first_atts}
			-tee
				adams.flow.transformer.SetVariable
					-var-name
					first_att
			-tee
				adams.flow.control.Trigger
					-name
					iterate 2nd lot
					-tee
						adams.flow.source.StringConstants
							-string
							@{second_atts}
					-tee
						adams.flow.transformer.SetVariable
							-var-name
							second_att
					-tee
						adams.flow.control.Trigger
							-name
							regexp
							-tee
								adams.flow.source.CombineVariables
									-expression
									(@{first_att}|@{second_att})
							-tee
								adams.flow.transformer.SetVariable
									-var-name
									current
					-tee
						adams.flow.control.Trigger
							-name
							label
							-tee
								adams.flow.source.CombineVariables
									-expression
									@{first_att} vs @{second_att}
							-tee
								adams.flow.transformer.SetVariable
									-var-name
									label
					-tee
						adams.flow.control.Trigger
							-name
							create plot
							-tee
								adams.flow.source.StorageValue
									-storage-name
									data
							-tee
								adams.flow.control.UpdateProperties
									-property
									filter.expression
									-variable
									current
									-sub-actor
										adams.flow.transformer.WekaFilter
											-filter
												weka.filters.unsupervised.attribute.RemoveByName
													-E
													^.*id$
													-V
											-keep
											true
							-tee
								adams.flow.sink.CallableSink
									-callable
									DisplayPanelManager
	-flow-execution-listener
		adams.flow.execution.NullListener

