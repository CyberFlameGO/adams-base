# Project: adams
# Date: 2014-11-05 22:35:24
# User: fracpete
# Charset: UTF-8
#
adams.flow.control.Flow
	-annotation
	Uses ufraw, if installed, to load a Canon RAW image (*.cr2)\nand adjusts the gamma level. The output is stored in JPG format.
	-actor
		adams.flow.source.SelectFile
			-stop-if-canceled
			true
			-file-chooser-title
			Select raw image
			-initial-dir
			${EXAMPLE_FLOWS}/data
			-extension
			cr2
	-actor
		adams.flow.control.Tee
			-name
			output filename
			-tee
				adams.flow.transformer.BaseName
			-tee
				adams.flow.transformer.PrependDir
					-prefix
					${EXAMPLE_FLOWS}/output
			-tee
				adams.flow.transformer.Convert
					-name
					change extension
					-conversion
						adams.data.conversion.ReplaceFileExtension
							-extension
							.jpg
			-tee
				adams.flow.transformer.SetVariable
					-var-name
					outfile
	-actor
		adams.flow.transformer.ImageMagickOperation
			-name
			gamma
			-operation
				adams.data.imagemagick.ufraw.Gamma
			-output
			@{outfile}
	-actor
		adams.flow.sink.Display
			-writer
				adams.data.io.output.NullWriter
	-flow-execution-listener
		adams.flow.execution.NullListener

